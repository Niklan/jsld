<?php

/**
 * @file
 *   Main file for hooks.
 */

define('JSLD_MATCH_TYPE_LISTED', 1);
define('JSLD_MATCH_TYPE_UNLISTED', 2);

/**
 * Implements hook_process_html().
 */
function jsld_process_html(&$variables) {

}

/**
 * Implements hook_boot().
 */
function jsld_boot() {
  global $jsld;
  $jsld = array();
}

/**
 * Add data to current.
 *
 * @param array $data
 *   Array with Json-LD data structure.
 */
function jsld_push_data($data = array()) {
  global $jsld;
  $jsld[] = $data;
}

/**
 * Implements hook_preprocess_HOOK().
 */
function jsld_preprocess_page(&$variables) {
  $plugin_service = \Drupal::service('plugin.manager.jsld.entity');
  $plugin_definitions = $plugin_service->getDefinitions();
  ksm($plugin_definitions);
}
